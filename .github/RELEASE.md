# Release Process

Shieldmonkey uses an automated release process via GitHub Actions, but requires manual version bumping.

## Prerequisites

- Access to the repository with write permissions.
- Local environment set up with `pnpm`.

## Steps

## Steps

1.  **Create a release branch.**
    Start from the latest `main`.
    ```bash
    git checkout main
    git pull origin main
    git checkout -b release/vX.Y.Z  # e.g. release/v0.1.0
    ```

2.  **Bump the version.**
    Run the following command. You can specify a version number (e.g., `0.1.0`) or a keyword (`major`, `minor`, `patch`).

    ```bash
    # Explicit version
    pnpm run bump-version 0.1.0

    # Automatic bump
    pnpm run bump-version patch # 0.1.0 -> 0.1.1
    pnpm run bump-version minor # 0.1.0 -> 0.2.0
    pnpm run bump-version major # 0.1.0 -> 1.0.0
    ```
    
    This will update `package.json`, `src/manifest.json`, `src/manifest.firefox.json` and sync `pnpm-lock.yaml`.

3.  **Commit the changes.**
    ```bash
    git add .
    git commit -m "chore: release vX.Y.Z"
    ```

4.  **Create a Pull Request.**
    -   Push the branch and open a Pull Request to `main`.
    -   Review the changes (version numbers).
    -   Merge the Pull Request.

5.  **Create a git tag.**
    Switch back to `main` and pull the merged changes.
    ```bash
    git checkout main
    git pull origin main
    git tag vX.Y.Z
    ```

6.  **Push tags.**
    This triggers the GitHub Action to build the release.
    ```bash
    git push origin vX.Y.Z
    ```

7.  **Wait for GitHub Actions.**
    -   The `build.yml` workflow will trigger on the new tag.
    -   It will build the extension for Chrome and Firefox.
    -   It will upload the zip files to a new GitHub Release (draft).

8.  **Publish the Release.**
    -   Go to [GitHub Releases](https://github.com/shieldmonkey/shieldmonkey/releases).
    -   Edit the draft release created by the action.
    -   Review the release notes (generated by `release-drafter`).
    -   Publish the release.
